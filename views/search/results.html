<div id="main" style="width: 70%" ng-init="getResults(searchTerm)">

	<div ng-show="searchLoading == true" class="loading">
		<i class="fa fa-refresh fa-spin"></i>
	</div>
	
	<div ng-show="searchLoading == false" ng-repeat="item in searchResults.hits.hits" class="item">
		<input type="checkbox">
		<a href="" class="item-detail">
			<img src="http://www.erasmusbooks.nl/main/tools/Scale.aspx?size=1&PR={{item._source.isbn}}" alt="{{item._source.title}}">
			<div class="item-title" ng-bind-html="item._source.title | highlight: searchedFor">Title</div>
		</a>
		<div class="item-author" ng-show="item._source.author" ng-bind-html="item._source.author | highlight: searchedFor">Item author(s)</div>
	
		<dl class="item-meta">
			<dt>Publisher:</dt>
			<dd><span ng-bind-html="item._source.publisher | highlight: searchedFor"></span>, {{item._source.date}}</dd>
			<dt>ISBN:</dt>
			<dd><span ng-bind-html="item._source.isbn | highlight: searchedFor"></span><span ng-hide="item._source.isbn">&nbsp;</span></dd>
			<dt>Binding:</dt>
			<dd>XXX, {{item._source.pages}} pages</dd>
			<dt>Availability:</dt>
			<dd><i class="available"></i> Available</dd>
		</dl>
		
		<div class="item-sidebar">
			<div class="item-price"><strong>{{item._source.price}}</strong> EUR</div>
			<button class="cart">Shopping cart</button>
	
			<ul class="item-links">
				<li><a href="">More information</a></li>
				<li><a href="">Order references</a></li>
			</ul>
		</div>
	</div>

</div>

<aside ng-show="noResults == false" style="width: 30%">
	<div class="pagination">
		<a href="" class="prev" ng-show="pagination.page > 0" ng-click="searchPage('first', searchedFor)">
			<i class="fa fa-angle-double-left"></i>First
		</a>
		<a href="" class="prev" ng-show="pagination.page > 1" ng-click="searchPage('prev', searchedFor)">
			<i class="fa fa-angle-left"></i>Previous
		</a>

		<span ng-hide="searchResults">
			<i class="fa fa-refresh fa-spin"></i>
		</span>
		<span ng-show="searchResults">
			{{pagination.page + 1}} of {{pagination.pages}}
		</span>
		
		<a href="" class="next" ng-show="pagination.page + 1 < pagination.pages" ng-click="searchPage('last', searchedFor)">
			Last<i class="fa fa-angle-double-right"></i>
		</a>
		<a href="" class="next" ng-show="pagination.page + 2 < pagination.pages" ng-click="searchPage('next', searchedFor)">
			Next<i class="fa fa-angle-right"></i>
		</a>
	</div>

	<dl class="page-details">
		<dt>Criteria:</dt>
		<dd><em>{{searchedFor}}</em><span ng-hide="searchedFor">&nbsp;</span></dd>
		<dt>Results:</dt>
		<dd>{{searchResults.hits.total}}<span ng-hide="searchResults.count">&nbsp;</span></dd>
		<dt>Sort by:</dt>
		<dd>
			<span href="" class="hover-menu"><a>{{currentSortMethod.name}}</a>
				<ul>
					<li ng-repeat="method in sortMethods">
						<a href="" ng-class="{active: method.slug == currentSortMethod.slug}" ng-click="sortResults($index, searchedFor)">{{method.name}}</a>
					</li>
				</ul>
			</span>
			<span href="" class="hover-menu" ng-hide="currentSortMethod.slug == 'relevance'"> / 
				<a ng-show="sortOrder == 'asc'">Ascending</a>
				<a ng-show="sortOrder == 'desc'">Descending</a>
				<ul>
					<li>
						<a href="" ng-class="{active: sortOrder == 'asc'}" ng-click="sortDirection('asc', searchedFor)">Ascending</a>
					</li>
					<li>
						<a href="" ng-class="{active: sortOrder == 'desc'}" ng-click="sortDirection('desc', searchedFor)">Descending</a>
					</li>
				</ul>
			</span>
		</dd>
		<dt>Currency:</dt>
		<dd>
			<span href="" class="hover-menu"><a>Original</a>
				<ul>
					<li><a href="" class="active">Original</a></li>
					<li><a href="">EUR</a></li>
					<li><a href="">USD</a></li>
					<li><a href="">GBP</a></li>
					<li><a href="">JPY</a></li>
				</ul>
			</span>
		</dd>
	</dl>

	<div class="page-functions">
		<a href="">Select all</a>
	</div>

	<div class="filters">
		<div class="filter open">
			<h3><i class="fa fa-chevron-down"></i> Availability</h3>
			<ul>
				<li><label><input type="checkbox"> <i class="available"></i> Available (99)</label></li>
				<li><label><input type="checkbox"> <i class="oop"></i> Out of print (99)</label></li>
				<li><label><input type="checkbox"> <i class="available"></i> Available (99)</label></li>
				<li><label><input type="checkbox"> <i class="oop"></i> Out of print (99)</label></li>
			</ul>
		</div>

		<div class="filter closed">
			<h3><i class="fa fa-chevron-up"></i> Product type</h3>
		</div>

		<div class="filter closed">
			<h3><i class="fa fa-chevron-up"></i> Publication year</h3>
		</div>

		<div class="filter closed">
			<h3><i class="fa fa-chevron-up"></i> Data sources</h3>
		</div>

		<div class="filter closed">
			<h3><i class="fa fa-chevron-up"></i> Classification</h3>
		</div>
	</div>

</aside>

<div ng-show="noResults == true" class="no-results">
	No results for <em>{{searchedFor}}</em>
</div>